using UnityEngine;
using System.Collections;
using System.Linq;
using System;

public class capsule : MonoBehaviour {
    public int sph;
    public Transform payload;
    private int[,] map = { { 86,0},{87,0},{88,0},{89,0},{90,0},{91,0},{24,1},{83,1},{84,1},{85,1},{86,1},{87,1},{88,1},{89,1},{90,1},{13,2},{14,2},{21,2},{34,2},{35,2},{82,2},{83,2},{84,2},{85,2},{86,2},{87,2},{88,2},{11,3},{12,3},{13,3},{15,3},{36,3},{37,3},{78,3},{81,3},{82,3},{85,3},{86,3},{12,4},{37,4},{75,4},{78,4},{80,4},{81,4},{82,4},{83,4},{85,4},{24,5},{25,5},{33,5},{34,5},{35,5},{36,5},{37,5},{38,5},{39,5},{47,5},{48,5},{49,5},{77,5},{82,5},{84,5},{85,5},{86,5},{23,6},{31,6},{32,6},{33,6},{34,6},{35,6},{36,6},{37,6},{39,6},{40,6},{43,6},{74,6},{75,6},{76,6},{77,6},{78,6},{79,6},{80,6},{81,6},{82,6},{83,6},{84,6},{85,6},{86,6},{87,6},{23,7},{27,7},{30,7},{31,7},{32,7},{33,7},{34,7},{35,7},{36,7},{37,7},{38,7},{39,7},{40,7},{41,7},{42,7},{43,7},{45,7},{46,7},{47,7},{48,7},{49,7},{50,7},{58,7},{65,7},{76,7},{77,7},{78,7},{79,7},{82,7},{84,7},{85,7},{86,7},{87,7},{88,7},{89,7},{13,8},{14,8},{15,8},{16,8},{25,8},{27,8},{29,8},{30,8},{31,8},{32,8},{33,8},{34,8},{35,8},{36,8},{37,8},{38,8},{39,8},{40,8},{41,8},{42,8},{43,8},{44,8},{45,8},{46,8},{47,8},{48,8},{49,8},{50,8},{51,8},{52,8},{53,8},{54,8},{56,8},{57,8},{63,8},{64,8},{65,8},{66,8},{67,8},{68,8},{69,8},{70,8},{71,8},{72,8},{73,8},{74,8},{75,8},{76,8},{77,8},{78,8},{79,8},{80,8},{81,8},{82,8},{83,8},{84,8},{85,8},{86,8},{88,8},{89,8},{12,9},{13,9},{14,9},{15,9},{16,9},{17,9},{18,9},{22,9},{23,9},{24,9},{25,9},{26,9},{27,9},{28,9},{29,9},{30,9},{31,9},{32,9},{33,9},{34,9},{35,9},{36,9},{37,9},{38,9},{39,9},{40,9},{41,9},{42,9},{43,9},{44,9},{45,9},{46,9},{47,9},{48,9},{49,9},{50,9},{51,9},{52,9},{53,9},{54,9},{55,9},{56,9},{57,9},{58,9},{59,9},{63,9},{64,9},{65,9},{66,9},{67,9},{68,9},{69,9},{70,9},{71,9},{72,9},{73,9},{74,9},{75,9},{76,9},{77,9},{78,9},{79,9},{80,9},{81,9},{82,9},{83,9},{84,9},{85,9},{89,9},{90,9},{91,9},{1,10},{2,10},{3,10},{12,10},{13,10},{14,10},{15,10},{16,10},{17,10},{19,10},{20,10},{21,10},{22,10},{23,10},{24,10},{25,10},{26,10},{27,10},{28,10},{29,10},{30,10},{31,10},{32,10},{33,10},{34,10},{35,10},{36,10},{37,10},{38,10},{39,10},{40,10},{41,10},{42,10},{43,10},{44,10},{45,10},{46,10},{47,10},{48,10},{49,10},{50,10},{51,10},{52,10},{53,10},{54,10},{55,10},{56,10},{57,10},{58,10},{60,10},{62,10},{63,10},{64,10},{65,10},{66,10},{67,10},{68,10},{69,10},{70,10},{71,10},{72,10},{73,10},{74,10},{75,10},{76,10},{77,10},{78,10},{79,10},{80,10},{81,10},{82,10},{83,10},{84,10},{85,10},{87,10},{88,10},{89,10},{90,10},{2,11},{10,11},{11,11},{12,11},{13,11},{14,11},{15,11},{16,11},{17,11},{18,11},{19,11},{20,11},{21,11},{22,11},{23,11},{24,11},{25,11},{26,11},{27,11},{28,11},{29,11},{30,11},{31,11},{32,11},{33,11},{34,11},{35,11},{36,11},{37,11},{38,11},{39,11},{40,11},{41,11},{42,11},{43,11},{44,11},{45,11},{46,11},{47,11},{48,11},{49,11},{50,11},{51,11},{52,11},{53,11},{54,11},{55,11},{56,11},{57,11},{58,11},{63,11},{64,11},{65,11},{66,11},{67,11},{68,11},{69,11},{70,11},{71,11},{72,11},{73,11},{74,11},{75,11},{76,11},{77,11},{78,11},{79,11},{80,11},{81,11},{82,11},{83,11},{87,11},{90,11},{9,12},{10,12},{11,12},{12,12},{14,12},{15,12},{16,12},{17,12},{18,12},{19,12},{20,12},{21,12},{22,12},{23,12},{24,12},{25,12},{26,12},{27,12},{28,12},{29,12},{30,12},{31,12},{32,12},{33,12},{34,12},{35,12},{36,12},{37,12},{38,12},{39,12},{40,12},{41,12},{42,12},{43,12},{44,12},{45,12},{46,12},{47,12},{48,12},{49,12},{50,12},{51,12},{54,12},{55,12},{63,12},{64,12},{65,12},{66,12},{67,12},{68,12},{69,12},{70,12},{71,12},{72,12},{73,12},{74,12},{75,12},{76,12},{77,12},{78,12},{79,12},{80,12},{81,12},{82,12},{88,12},{89,12},{10,13},{11,13},{12,13},{14,13},{15,13},{16,13},{17,13},{18,13},{19,13},{20,13},{21,13},{22,13},{23,13},{24,13},{25,13},{26,13},{27,13},{28,13},{29,13},{30,13},{31,13},{32,13},{33,13},{34,13},{35,13},{36,13},{37,13},{38,13},{39,13},{40,13},{41,13},{42,13},{43,13},{44,13},{45,13},{46,13},{47,13},{53,13},{65,13},{66,13},{71,13},{72,13},{73,13},{74,13},{75,13},{76,13},{77,13},{78,13},{79,13},{80,13},{81,13},{82,13},{88,13},{89,13},{90,13},{91,13},{6,14},{10,14},{12,14},{14,14},{15,14},{16,14},{17,14},{18,14},{19,14},{20,14},{21,14},{22,14},{23,14},{24,14},{25,14},{26,14},{27,14},{28,14},{29,14},{30,14},{31,14},{32,14},{33,14},{34,14},{35,14},{36,14},{37,14},{38,14},{39,14},{40,14},{41,14},{42,14},{43,14},{44,14},{45,14},{46,14},{52,14},{53,14},{72,14},{73,14},{74,14},{75,14},{76,14},{77,14},{78,14},{79,14},{80,14},{81,14},{82,14},{83,14},{84,14},{85,14},{87,14},{88,14},{89,14},{90,14},{91,14},{92,14},{5,15},{7,15},{11,15},{12,15},{13,15},{14,15},{15,15},{16,15},{17,15},{18,15},{19,15},{20,15},{21,15},{22,15},{23,15},{24,15},{25,15},{26,15},{27,15},{28,15},{29,15},{30,15},{31,15},{32,15},{33,15},{34,15},{35,15},{36,15},{37,15},{38,15},{39,15},{40,15},{41,15},{42,15},{43,15},{44,15},{45,15},{46,15},{47,15},{52,15},{73,15},{74,15},{75,15},{76,15},{77,15},{78,15},{79,15},{80,15},{81,15},{82,15},{83,15},{84,15},{85,15},{87,15},{88,15},{89,15},{90,15},{91,15},{92,15},{93,15},{5,16},{7,16},{9,16},{10,16},{11,16},{12,16},{13,16},{14,16},{15,16},{16,16},{17,16},{18,16},{19,16},{20,16},{21,16},{22,16},{23,16},{24,16},{25,16},{26,16},{27,16},{28,16},{29,16},{30,16},{31,16},{32,16},{33,16},{34,16},{35,16},{36,16},{37,16},{38,16},{39,16},{40,16},{41,16},{42,16},{43,16},{44,16},{45,16},{46,16},{47,16},{48,16},{73,16},{74,16},{75,16},{76,16},{77,16},{78,16},{79,16},{80,16},{81,16},{82,16},{83,16},{84,16},{85,16},{86,16},{87,16},{88,16},{89,16},{90,16},{93,16},{8,17},{9,17},{10,17},{11,17},{12,17},{13,17},{14,17},{15,17},{16,17},{17,17},{18,17},{19,17},{20,17},{21,17},{22,17},{23,17},{24,17},{25,17},{26,17},{27,17},{28,17},{29,17},{30,17},{31,17},{32,17},{33,17},{34,17},{35,17},{36,17},{37,17},{38,17},{39,17},{40,17},{41,17},{42,17},{43,17},{44,17},{45,17},{46,17},{74,17},{75,17},{76,17},{77,17},{78,17},{79,17},{80,17},{81,17},{82,17},{83,17},{84,17},{85,17},{86,17},{87,17},{88,17},{89,17},{90,17},{94,17},{8,18},{9,18},{10,18},{11,18},{12,18},{13,18},{14,18},{15,18},{16,18},{17,18},{18,18},{19,18},{20,18},{21,18},{22,18},{23,18},{24,18},{25,18},{26,18},{27,18},{28,18},{29,18},{30,18},{31,18},{32,18},{33,18},{34,18},{35,18},{36,18},{37,18},{38,18},{39,18},{40,18},{41,18},{42,18},{43,18},{44,18},{45,18},{46,18},{74,18},{75,18},{76,18},{77,18},{78,18},{79,18},{80,18},{81,18},{82,18},{83,18},{84,18},{85,18},{86,18},{87,18},{88,18},{89,18},{90,18},{5,19},{6,19},{7,19},{8,19},{11,19},{13,19},{14,19},{15,19},{16,19},{17,19},{18,19},{19,19},{20,19},{21,19},{22,19},{23,19},{24,19},{25,19},{26,19},{27,19},{28,19},{29,19},{30,19},{31,19},{32,19},{33,19},{34,19},{35,19},{36,19},{37,19},{38,19},{39,19},{40,19},{41,19},{42,19},{43,19},{44,19},{47,19},{75,19},{76,19},{77,19},{78,19},{79,19},{80,19},{81,19},{82,19},{83,19},{84,19},{85,19},{86,19},{87,19},{88,19},{89,19},{6,20},{7,20},{10,20},{12,20},{14,20},{16,20},{17,20},{18,20},{19,20},{20,20},{21,20},{22,20},{23,20},{24,20},{25,20},{26,20},{27,20},{28,20},{29,20},{30,20},{31,20},{32,20},{33,20},{34,20},{35,20},{36,20},{37,20},{38,20},{39,20},{40,20},{41,20},{42,20},{43,20},{75,20},{76,20},{77,20},{78,20},{79,20},{80,20},{81,20},{82,20},{83,20},{84,20},{85,20},{86,20},{87,20},{6,21},{7,21},{14,21},{16,21},{17,21},{18,21},{19,21},{20,21},{21,21},{22,21},{23,21},{24,21},{25,21},{26,21},{27,21},{28,21},{29,21},{30,21},{31,21},{32,21},{33,21},{34,21},{35,21},{36,21},{37,21},{38,21},{39,21},{40,21},{41,21},{44,21},{47,21},{75,21},{76,21},{77,21},{78,21},{79,21},{80,21},{81,21},{82,21},{83,21},{84,21},{85,21},{86,21},{87,21},{6,22},{7,22},{8,22},{9,22},{10,22},{18,22},{19,22},{20,22},{21,22},{22,22},{23,22},{24,22},{25,22},{26,22},{27,22},{28,22},{29,22},{30,22},{31,22},{32,22},{33,22},{34,22},{35,22},{36,22},{37,22},{38,22},{39,22},{40,22},{41,22},{45,22},{76,22},{77,22},{78,22},{79,22},{80,22},{81,22},{82,22},{83,22},{84,22},{85,22},{86,22},{5,23},{6,23},{7,23},{8,23},{9,23},{10,23},{11,23},{12,23},{14,23},{15,23},{16,23},{17,23},{18,23},{19,23},{20,23},{21,23},{22,23},{23,23},{24,23},{25,23},{26,23},{27,23},{28,23},{29,23},{30,23},{31,23},{32,23},{33,23},{34,23},{35,23},{36,23},{37,23},{38,23},{39,23},{40,23},{41,23},{77,23},{78,23},{79,23},{80,23},{81,23},{82,23},{83,23},{86,23},{4,24},{5,24},{6,24},{7,24},{8,24},{9,24},{10,24},{11,24},{12,24},{13,24},{14,24},{15,24},{16,24},{17,24},{18,24},{19,24},{20,24},{21,24},{23,24},{24,24},{25,24},{26,24},{27,24},{28,24},{29,24},{30,24},{31,24},{32,24},{33,24},{34,24},{35,24},{36,24},{37,24},{38,24},{39,24},{40,24},{41,24},{79,24},{80,24},{81,24},{86,24},{4,25},{5,25},{6,25},{7,25},{8,25},{9,25},{10,25},{11,25},{12,25},{13,25},{14,25},{15,25},{16,25},{17,25},{19,25},{20,25},{21,25},{22,25},{23,25},{27,25},{28,25},{29,25},{30,25},{31,25},{32,25},{33,25},{34,25},{35,25},{36,25},{37,25},{38,25},{39,25},{40,25},{78,25},{80,25},{81,25},{86,25},{3,26},{4,26},{5,26},{6,26},{7,26},{8,26},{9,26},{10,26},{11,26},{12,26},{13,26},{14,26},{15,26},{16,26},{17,26},{18,26},{19,26},{20,26},{21,26},{22,26},{23,26},{24,26},{29,26},{30,26},{31,26},{32,26},{34,26},{35,26},{36,26},{37,26},{80,26},{81,26},{84,26},{89,26},{3,27},{4,27},{5,27},{6,27},{7,27},{8,27},{9,27},{10,27},{11,27},{12,27},{13,27},{14,27},{15,27},{16,27},{17,27},{18,27},{20,27},{21,27},{22,27},{23,27},{29,27},{30,27},{35,27},{36,27},{37,27},{42,27},{82,27},{83,27},{84,27},{3,28},{4,28},{5,28},{6,28},{7,28},{8,28},{9,28},{10,28},{11,28},{12,28},{13,28},{14,28},{15,28},{16,28},{17,28},{18,28},{19,28},{20,28},{21,28},{29,28},{30,28},{36,28},{37,28},{38,28},{85,28},{4,29},{5,29},{6,29},{7,29},{8,29},{9,29},{10,29},{11,29},{12,29},{13,29},{14,29},{15,29},{16,29},{17,29},{18,29},{19,29},{20,29},{21,29},{22,29},{29,29},{30,29},{37,29},{87,29},{88,29},{89,29},{90,29},{91,29},{4,30},{5,30},{6,30},{7,30},{8,30},{9,30},{10,30},{11,30},{12,30},{13,30},{14,30},{15,30},{16,30},{17,30},{18,30},{19,30},{20,30},{21,30},{36,30},{42,30},{43,30},{88,30},{89,30},{90,30},{91,30},{92,30},{93,30},{94,30},{11,31},{12,31},{13,31},{14,31},{15,31},{16,31},{17,31},{18,31},{19,31},{20,31},{35,31},{40,31},{87,31},{88,31},{89,31},{90,31},{91,31},{92,31},{93,31},{94,31},{95,31},{11,32},{12,32},{13,32},{14,32},{15,32},{16,32},{17,32},{18,32},{19,32},{36,32},{39,32},{40,32},{42,32},{45,32},{87,32},{88,32},{89,32},{90,32},{91,32},{92,32},{93,32},{94,32},{95,32},{96,32},{11,33},{12,33},{13,33},{14,33},{15,33},{16,33},{17,33},{18,33},{37,33},{40,33},{42,33},{46,33},{47,33},{48,33},{67,33},{87,33},{88,33},{89,33},{90,33},{91,33},{92,33},{93,33},{94,33},{95,33},{96,33},{97,33},{98,33},{99,33},{12,34},{13,34},{14,34},{15,34},{16,34},{17,34},{18,34},{38,34},{39,34},{47,34},{48,34},{49,34},{87,34},{88,34},{89,34},{90,34},{91,34},{92,34},{93,34},{94,34},{95,34},{96,34},{97,34},{98,34},{99,34},{12,35},{13,35},{14,35},{15,35},{16,35},{17,35},{18,35},{42,35},{88,35},{89,35},{90,35},{91,35},{92,35},{93,35},{94,35},{95,35},{96,35},{97,35},{98,35},{12,36},{13,36},{14,36},{15,36},{16,36},{17,36},{18,36},{19,36},{45,36},{48,36},{88,36},{89,36},{90,36},{91,36},{92,36},{93,36},{94,36},{95,36},{96,36},{97,36},{98,36},{11,37},{12,37},{13,37},{14,37},{15,37},{16,37},{17,37},{18,37},{21,37},{43,37},{44,37},{45,37},{46,37},{47,37},{48,37},{58,37},{90,37},{91,37},{92,37},{93,37},{94,37},{95,37},{96,37},{97,37},{98,37},{12,38},{13,38},{14,38},{15,38},{16,38},{17,38},{20,38},{21,38},{41,38},{42,38},{43,38},{44,38},{45,38},{46,38},{47,38},{48,38},{49,38},{55,38},{90,38},{91,38},{92,38},{93,38},{94,38},{95,38},{96,38},{97,38},{12,39},{13,39},{14,39},{15,39},{16,39},{17,39},{20,39},{21,39},{40,39},{41,39},{42,39},{43,39},{44,39},{45,39},{46,39},{47,39},{48,39},{49,39},{50,39},{90,39},{91,39},{92,39},{93,39},{94,39},{95,39},{12,40},{13,40},{14,40},{15,40},{16,40},{40,40},{41,40},{42,40},{43,40},{44,40},{45,40},{46,40},{47,40},{48,40},{49,40},{50,40},{90,40},{91,40},{92,40},{93,40},{94,40},{95,40},{13,41},{14,41},{15,41},{16,41},{41,41},{42,41},{43,41},{44,41},{45,41},{46,41},{47,41},{48,41},{49,41},{50,41},{89,41},{90,41},{91,41},{92,41},{93,41},{94,41},{13,42},{14,42},{15,42},{41,42},{46,42},{47,42},{48,42},{49,42},{50,42},{89,42},{90,42},{91,42},{92,42},{93,42},{48,43},{49,43},{57,43},{89,43},{90,43},{91,43},{92,43},{93,43},{89,44},{90,44},{49,45},{56,45},{89,45},{90,45},{55,46},{88,46},{89,46},{90,46},{88,47},{89,47},{90,47},{89,48},{89,49},{90,49}};
    public float asd;
    int[] narray = Enumerable.Range(0, 1563).ToArray();
    int[] ary2;
    private int x = 0;
    public int frame;
    void Start()
    {
        //Rigidbody rigidbody = GetComponent<Rigidbody>();
        
        //rigidbody.velocity = new Vector3(10, 10, 0);
        //rigidbody.angularVelocity = new Vector3(0, 0, -2);
        //Debug.Log


        //Random.Range(x, y);

        //ary2 = narray.OrderBy(i => Guid.NewGuid()).ToArray();
        ////Debug.Log(ary2[4]);
        //for (int i = 0; i < sph; i++)
        //{
        //    Vector3 pos = new Vector3(-map[ary2[i], 0], 0.0f, map[ary2[i], 1]);
        //    //Rigidbody clone = (Rigidbody)Instantiate(payload.gameObject, pos, transform.rotation);

        //    //clone.velocity = new Vector3(((float)map[ary2[i], 0] - 46.323f) * asd, 10.0f, ((float)map[ary2[i], 1] - 22.072f) * asd); ;

        //    GameObject clone = Instantiate(payload.gameObject, pos, transform.rotation) as GameObject;
        //    clone.GetComponent<Rigidbody>().velocity = new Vector3(((float)map[ary2[i], 0] - 46.323f) * asd, 10.0f, ((float)map[ary2[i], 1] - 22.072f) * asd);
 
        //}
    }
    
    void Update()
    {
        x++;
        if (x==frame)
        {
            ary2 = narray.OrderBy(i => Guid.NewGuid()).ToArray();
            //Debug.Log(ary2[4]);
            for (int i = 0; i < sph; i++)
            {
                Vector3 pos = new Vector3(-map[ary2[i], 0], 1.0f, map[ary2[i], 1]);
                //Rigidbody clone = (Rigidbody)Instantiate(payload.gameObject, pos, transform.rotation);

                //clone.velocity = new Vector3(((float)map[ary2[i], 0] - 46.323f) * asd, 10.0f, ((float)map[ary2[i], 1] - 22.072f) * asd); ;

                GameObject clone = Instantiate(payload.gameObject, pos, transform.rotation) as GameObject;
                clone.GetComponent<Rigidbody>().velocity = new Vector3(((float)map[ary2[i], 0] - 46.323f) * asd, 10.0f, ((float)map[ary2[i], 1] - 22.072f) * -asd);

            }
            x = 0;
        }
        
    }
}